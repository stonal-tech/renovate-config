{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "description": "https://www.notion.so/Renovate-f455c421fc084ab38bf3145d243f7833",
    "extends": [
        "github>stonal-tech/renovate-config//global",
        "github>stonal-tech/renovate-config//py-no-update"
    ],
    "hostRules": [
        {
            "hostType": "pypi",
            "matchHost": "aws-auth-proxy.stonal.io",
            "username": "renovate",
            "password": "{{ secrets.AWS_CA_PASSWORD }}",
            "encrypted": {
                "password": "wcFMA/xDdHCJBTolAQ//Y8AsLBgedvbjux3Da2+Sd54xRA4UWxevB+Nayp/H7w6WqxL4WZ94Jeu4YV4ZNJc8U6mwjPD3x7a8lmFqblQJJZQP/0v4ktznSAflEYSlPnfBANQLEKk+wq463OoQUUmuw3tiM1H9B2XSvmkn8b9JD8EIpgjNqviSdYOQGuOAB/hOtDXbxQBC7kLs4KdIYN9Jhqsrn9G5EBzDHjAgO0jloEjiqwe77HjOclg0bClaqKJpDeJIOfH9qJN1VeGL6jaH7xOhEya/ZuJ+AhfnIHDmPJJvJJl3rpVvFZIC16fKKa+ofVokqUm7es+4Rgn8vo1Y8TBl4Fk1FVr0ahNzrvhTHMXnqrPe3+2hFwidj9a544Pfwn2LCM1cc6F/lh5X1Pf4BZncK3vmHSZJavSTyz4C8gJeH9Y/+RZw/iaF4EKHkB5W4UHe0/Q8YKf3vAeKnm+4JAgFlxYyOzt/Rx94udhFsCNV1rXZa26zJz8T/8tdfpuxRb8t0EzaanZlvZuyK894lppRdR56HacspH42Q3lGANqH8HnImmncCThbYtsupYBaJFEhkxaWVPObUFDZ3hlPUqQ6+rhI+jFLo6q0/W5QiSqBh8gJ0csCLNR3NipMuWI4kkVV9FRgFhFRIaLodSQJzqQwE8Y7vKVsvfpj4DRcgUMlVVStcEKyfXxldZIF+UHSYgFFme1mJNsYtmeYCqZxmVNB/abBseXAwTEzHiSYwV4kJP3yX8xI6wY4HhJpA1ESDR1CjUV5BkzE5cry1O4f3FfaI/CIl/pne+njY7/Bb5pzo786HHuszLCzfnTZwsFwJGs/"
            }
        }
    ],
    "packageRules": [
        {
            "description": "https://github.com/renovatebot/renovate/pull/16865",
            "matchDatasources": [
                "python"
            ],
            "registryUrls": [
                "https://aws-auth-proxy.stonal.io/codeartifact/pypi/python/simple/",
                "https://pypi.org/simple/"
            ]
        },
        {
            "matchDatasources": [
                "pypi"
            ],
            "matchUpdateTypes": [
                "patch",
                "minor"
            ],
            "addLabels": [
                "autoapprove"
            ]
        },
        {
            "matchDatasources": [
                "pypi"
            ],
            "matchUpdateTypes": [
                "major"
            ],
            "matchDepNames": [
                "structlog"
            ],
            "description": "structlog follows a clunky versioning scheme, so we need to allow major updates",
            "addLabels": [
                "autoapprove"
            ]
        },
        {
            "matchDatasources": [
                "pypi"
            ],
            "matchDepNames": [
                "lib-mq-aws",
                "lib-ai-mq-handler-py"
            ],
            "description": "lib-mq-aws and lib-ai-mq-handler-py need to create a new release when updated",
            "addLabels": [
                "autorelease"
            ]
        },
        {
            "matchDatasources": [
                "pypi"
            ],
            "matchSourceUrlPrefixes": [
                "https://github.com/stonal-tech/"
            ],
            "description": "Not sure it works",
            "prPriority": 5,
            "prBodyNotes": "Internal library !"
        },
        {
            "description": "slowing down some updates",
            "matchDatasources": [
                "pypi"
            ],
            "matchDepNames": [
                "boto3"
            ],
            "minimumReleaseAge": "3 days"
        },
        {
            "description": "auto-merge some pre-commit updates",
            "matchManagers": [
                "pre-commit"
            ],
            "matchDepNames": [
                "^astral-sh/ruff-pre-commit$"
            ],
            "matchUpdateTypes": [
                "patch",
                "minor"
            ],
            "addLabels": [
                "autoapprove"
            ]
        },
        {
            "description": "auto-merge all pre-commit updates",
            "matchManagers": [
                "pre-commit"
            ],
            "addLabels": [
                "autoapprove"
            ]
        },
        {
            "description": "group sentry updates",
            "groupName": "sentry",
            "matchDepNames": [
                "sentry-sdk",
                "lib-sentry"
            ],
            "matchManagers": [
                "poetry"
            ],
            "separateMajorMinor": false
        },
        {
            "decription": "group boto updates",
            "groupName": "boto",
            "matchDepNames": [
                "boto3",
                "botocore"
            ]
        },
        {
            "description": "group lib-mq updates",
            "groupName": "lib-mq",
            "matchDepNames": [
                "lib-mq-aws",
                "lib-ai-mq-handler"
            ],
            "matchManagers": [
                "poetry"
            ],
            "separateMajorMinor": false
        }
    ],
    "pre-commit": {
        "enabled": true
    }
}
